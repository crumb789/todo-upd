(function(){"use strict";var t={936:function(t,e,s){var a=s(9242),n=s(3396),o=s(7139);const i={class:"main"},r={class:"container"},l={class:"title h1 mb-4"},d=(0,n._)("i",{class:"bi bi-view-list"},null,-1),c={class:"wrapper text-center"},u={class:"row"},m={key:1,class:"col col-9"};function f(t,e,s,a,f,k){const v=(0,n.up)("new-task-form"),p=(0,n.up)("task-item"),b=(0,n.up)("task-list"),h=(0,n.up)("note-list"),w=(0,n.up)("modal-comp");return(0,n.wg)(),(0,n.iD)("section",i,[(0,n._)("div",r,[(0,n._)("header",null,[(0,n._)("h1",l,[(0,n.Uk)((0,o.zw)(k.title)+" ",1),d])]),(0,n.Wm)(v,{onNewtTaksSubmit:k.newTaskAdd},null,8,["onNewtTaksSubmit"]),(0,n._)("div",c,[(0,n._)("div",u,[k.taskList.length>0?((0,n.wg)(),(0,n.j4)(b,{key:0,class:"col col-3"},{default:(0,n.w5)((()=>[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.taskList,(t=>((0,n.wg)(),(0,n.j4)(p,{key:t,item:t},null,8,["item"])))),128))])),_:1})):(0,n.kq)("",!0),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(k.taskList,((t,e)=>((0,n.wg)(),(0,n.j4)(h,{class:"col col-9",key:t,item:t,index:e},null,8,["item","index"])))),128)),null===k.selectedTask?((0,n.wg)(),(0,n.iD)("div",m)):(0,n.kq)("",!0)])]),(0,n.Wm)(w)])])}const k={class:"form"},v=["disabled"];function p(t,e,s,o,i,r){return(0,n.wg)(),(0,n.iD)("div",k,[(0,n._)("form",{onSubmit:e[1]||(e[1]=(0,a.iM)(((...t)=>r.onSubmit&&r.onSubmit(...t)),["prevent"]))},[(0,n.wy)((0,n._)("input",{class:"form-control",type:"text","onUpdate:modelValue":e[0]||(e[0]=t=>i.newTask=t)},null,512),[[a.nr,i.newTask]]),(0,n._)("button",{class:"btn btn-outline-dark mt-3",type:"submit",disabled:""===i.newTask}," Добавить ",8,v)],32)])}var b=s(2482);class h{constructor(t){(0,b.Z)(this,"task",void 0),(0,b.Z)(this,"notes",void 0),this.task=t,this.id=new Date,this.notes=[]}get taskArr(){return[this.task,this.id]}}var w={name:"new-task-form",data(){return{newTask:""}},methods:{onSubmit(){let t=new h(this.newTask);this.$emit("newt-taks-submit",t),this.newTask=""}}},g=s(89);const y=(0,g.Z)(w,[["render",p],["__scopeId","data-v-b36c9ad0"]]);var T=y;const _={class:"content d-flex justify-content-start flex-row"},x={key:0,class:"icon"};function S(t,e,s,a,i,r){return(0,n.wg)(),(0,n.iD)("div",_,[(0,n._)("div",{class:(0,o.C_)(["task-item list-group-item animate__animated animate__fadeIn",{active:s.item===r.selectedTaskActive}])},[(0,n._)("div",{onClick:e[1]||(e[1]=t=>r.selectedTask(s.item)),class:"task-name"},[(0,n.Uk)((0,o.zw)(s.item.task)+" ",1),s.item===r.selectedTaskActive?((0,n.wg)(),(0,n.iD)("div",x,[(0,n._)("i",{onClick:e[0]||(e[0]=t=>r.addNote(s.item)),class:"bi bi-window-plus",title:"Новая заметка"})])):(0,n.kq)("",!0)])],2)])}s(1703);class N{constructor(t,e){(0,b.Z)(this,"title",""),(0,b.Z)(this,"textarea",""),this.title=t,this.textarea=e,this.id=new Date}set title(t){if(""===t)throw new Error("Заголовок пользователя не может быть пустым");this.title=t}}var O={name:"task-item",components:{},props:{item:{type:Object}},data(){return{}},methods:{selectedTask(t){this.$store.commit("choiseTaskActive",t)},addNote(t){let e=new N;e.title="",e.textarea="",t.notes.push(e)}},computed:{selectedTaskActive(){return this.$store.state.selectedTask}}};const j=(0,g.Z)(O,[["render",S],["__scopeId","data-v-39c70a67"]]);var I=j;const C={class:"container"},D={class:"list-group"};function $(t,e,s,a,o,i){return(0,n.wg)(),(0,n.iD)("div",C,[(0,n._)("ul",D,[(0,n.WI)(t.$slots,"default",{},void 0,!0)])])}var Z={name:"task-list",data(){return{}}};const A=(0,g.Z)(Z,[["render",$],["__scopeId","data-v-30d7f521"]]);var M=A;const P={key:0,class:"task-wrapper"};function L(t,e,s,a,o,i){const r=(0,n.up)("task-note");return i.selectedTask===s.item?((0,n.wg)(),(0,n.iD)("div",P,[((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(s.item.notes,((t,e)=>((0,n.wg)(),(0,n.j4)(r,{key:t,note:t,item:s.item,indexItem:s.index,indexNote:e},null,8,["note","item","indexItem","indexNote"])))),128))])):(0,n.kq)("",!0)}const H=t=>((0,n.dD)("data-v-33613c30"),t=t(),(0,n.Cn)(),t),U={class:"task-note card mb-3 border border-secondary animate__animated animate__fadeIn"},q={class:"card-body"},J=H((()=>(0,n._)("label",{for:"title"},"Заголовок:",-1))),E=H((()=>(0,n._)("label",{for:"text"},"Комментарий:",-1)));function K(t,e,s,o,i,r){return(0,n.wg)(),(0,n.iD)("div",U,[(0,n._)("div",q,[(0,n._)("form",{onSubmit:e[4]||(e[4]=(0,a.iM)((t=>r.onChange(s.indexItem,s.indexNote)),["prevent"])),class:"d-flex flex-column"},[J,(0,n.wy)((0,n._)("input",{onChange:e[0]||(e[0]=t=>r.onChange(s.indexItem,s.indexNote)),id:"title",class:"task-note-title mb-3 form-control","onUpdate:modelValue":e[1]||(e[1]=t=>i.title=t)},null,544),[[a.nr,i.title]]),E,(0,n.wy)((0,n._)("textarea",{onChange:e[2]||(e[2]=t=>r.onChange(s.indexItem,s.indexNote)),itemid:"text",class:"form-control",name:"",id:"",cols:"30",rows:"10","onUpdate:modelValue":e[3]||(e[3]=t=>i.text=t)},"\r\n                ",544),[[a.nr,i.text]])],32)])])}var V={name:"task-note",components:{},props:{note:{type:Object},item:{type:Object},indexItem:{type:Number},indexNote:{type:Number}},data(){return{text:"",title:""}},methods:{onChange(t,e){let s=[t,e,this.title,this.text];this.$store.commit("changeNoteTitleTextarea",s)}},computed:{selectedTask(){return this.$store.state.selectedTask}}};const W=(0,g.Z)(V,[["render",K],["__scopeId","data-v-33613c30"]]);var Y=W,z={name:"note-list",components:{TaskNote:Y},props:{item:{type:Object},index:{type:Number}},data(){return{}},computed:{selectedTask(){return this.$store.state.selectedTask}}};const F=(0,g.Z)(z,[["render",L]]);var B=F;const G={class:"modal",tabindex:"-1"},Q=(0,n.uE)('<div class="modal-dialog" data-v-03f97ff1><div class="modal-content" data-v-03f97ff1><div class="modal-header" data-v-03f97ff1><h5 class="modal-title" data-v-03f97ff1>Modal title</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close" data-v-03f97ff1></button></div><div class="modal-body" data-v-03f97ff1><p data-v-03f97ff1>Modal body text goes here.</p></div><div class="modal-footer" data-v-03f97ff1><button type="button" class="btn btn-secondary" data-bs-dismiss="modal" data-v-03f97ff1>Close</button><button type="button" class="btn btn-primary" data-v-03f97ff1>Save changes</button></div></div></div>',1),R=[Q];function X(t,e,s,a,o,i){return(0,n.wg)(),(0,n.iD)("div",G,R)}var tt={name:"modal-comp",data(){return{}}};const et=(0,g.Z)(tt,[["render",X],["__scopeId","data-v-03f97ff1"]]);var st=et,at={name:"App",components:{NewTaskForm:T,TaskItem:I,TaskList:M,ModalComp:st,NoteList:B},data(){return{}},methods:{newTaskAdd(t){this.$store.commit("addTask",t)}},computed:{title(){return this.$store.state.titleHeader},taskList(){return this.$store.state.tasks},selectedTask(){return this.$store.state.selectedTask}},beforeCreate(){this.$store.commit("initialiseStore")}};const nt=(0,g.Z)(at,[["render",f]]);var ot=nt,it=s(65),rt=(0,it.MT)({state:{titleHeader:"Заметки",tasks:[],selectedTask:null},getters:{},mutations:{addTask(t,e){t.tasks.push(e)},addTaskNote(t,e,s){t.tasks.task.notes.push(s)},choiseTaskActive(t,e){t.selectedTask=e},changeNoteTitleTextarea(t,e){let s=e[0],a=e[1],n=e[2],o=e[3];t.tasks[s].notes[a].title=n,t.tasks[s].notes[a].textarea=o},agreePrivacyPolicy(t){localStorage.setItem("agreedToPrivacy",t.tasks),t.tasks=JSON.parse(localStorage.tasks)},initialiseStore(t){localStorage.getItem("tasks")&&(t.tasks=JSON.parse(localStorage.tasks))}},actions:{},modules:{},mounted(t){localStorage.tasks&&(t.tasks=JSON.parse(localStorage.tasks))},watch:{tasks:{handler(t){localStorage.tasks=JSON.stringify(t)},deep:!0}}});s(2166);(0,a.ri)(ot).use(rt).mount("#app")}},e={};function s(a){var n=e[a];if(void 0!==n)return n.exports;var o=e[a]={exports:{}};return t[a](o,o.exports,s),o.exports}s.m=t,function(){var t=[];s.O=function(e,a,n,o){if(!a){var i=1/0;for(c=0;c<t.length;c++){a=t[c][0],n=t[c][1],o=t[c][2];for(var r=!0,l=0;l<a.length;l++)(!1&o||i>=o)&&Object.keys(s.O).every((function(t){return s.O[t](a[l])}))?a.splice(l--,1):(r=!1,o<i&&(i=o));if(r){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}o=o||0;for(var c=t.length;c>0&&t[c-1][2]>o;c--)t[c]=t[c-1];t[c]=[a,n,o]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var n,o,i=a[0],r=a[1],l=a[2],d=0;if(i.some((function(e){return 0!==t[e]}))){for(n in r)s.o(r,n)&&(s.m[n]=r[n]);if(l)var c=l(s)}for(e&&e(a);d<i.length;d++)o=i[d],s.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return s.O(c)},a=self["webpackChunktodo_v4"]=self["webpackChunktodo_v4"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[998],(function(){return s(936)}));a=s.O(a)})();
//# sourceMappingURL=app.32f243f7.js.map